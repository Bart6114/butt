{{ define "jobview"}}
<button class="button icon-only outline" onClick="triggerJob({{.SelectedJobSpec.Name}})">
  <picture>
    <source srcset="/static/img/play-light.svg" media="(prefers-color-scheme: dark)">
    <img src="/static/img/play-dark.svg">
  </picture>
</button>
<button class="button icon-only outline" onClick="window.location.reload();">
  <picture>
    <source srcset="/static/img/refresh-ccw-light.svg" media="(prefers-color-scheme: dark)">
    <img src="/static/img/refresh-ccw-dark.svg">
  </picture>
</button>

<div class="flex flex-wrap gap-2">
<div class="bg-slate-200 p-2 relative">
  <h4>JobSpec</h4>
  <div class="text-sm whitespace-pre">{{ .SelectedJobSpec.ToYAML false }}</div>
</div>
<div class="bg-slate-200">

</div>
</div>


<div class="view-container">
  <h4 class="is-marginless view-header text-primary">Logs</h4>
  <pre class="pre-wrap">{{range $i, $j := .SelectedJobSpec.Runs}}<span id="log{{$i}}"></span>{{.TriggeredAt}} | triggered by: {{ .TriggeredBy }} | duration: {{ .Duration | roundToSeconds}}s | exit code: {{.Status}}
---
{{.Log}}
{{end}}
</pre>
</div>
{{end}}